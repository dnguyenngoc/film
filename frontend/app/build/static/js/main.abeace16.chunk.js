(this.webpackJsonptoangvl=this.webpackJsonptoangvl||[]).push([[0],{14:function(t,e,s){},15:function(t,e,s){"use strict";s.r(e);var n=s(0),i=s.n(n),a=s(6),r=s.n(a),c=(s(14),s(1)),o=s(4),u=s(3),l=s(2);s(5);function h(t){return i.a.createElement("button",{onClick:t.onClick,className:"square "+t.shade,style:t.style})}var p=function(t){Object(u.a)(s,t);var e=Object(l.a)(s);function s(){return Object(c.a)(this,s),e.apply(this,arguments)}return Object(o.a)(s,[{key:"renderSquare",value:function(t,e){var s=this;return i.a.createElement(h,{piece:this.props.squares[t],style:this.props.squares[t]?this.props.squares[t].style:null,shade:e,onClick:function(){return s.props.onClick(t)}})}},{key:"render",value:function(){for(var t=[],e=0;e<8;e++){for(var s=[],n=0;n<8;n++){var a=f(e,n);if(1===this.props.suggest.status)if(this.props.suggest.dict.indexOf(a)>=0)s.push(this.renderSquare(a,"hover-square"));else{var r=m(e)&&m(n)||!m(e)&&!m(n)?"light-square":"dark-square";s.push(this.renderSquare(a,r))}else{var c=m(e)&&m(n)||!m(e)&&!m(n)?"light-square":"dark-square";s.push(this.renderSquare(a,c))}}t.push(i.a.createElement("div",{className:"board-row"},s))}return i.a.createElement("div",null,t)}}]),s}(i.a.Component);function f(t,e){return 8*t+e}function m(t){return t%2===0}var v=s(8),k=function(t){Object(u.a)(s,t);var e=Object(l.a)(s);function s(){return Object(c.a)(this,s),e.apply(this,arguments)}return Object(o.a)(s,[{key:"createPopUpVictory",value:function(t){return i.a.createElement(v.a,{modal:!0,trigger:i.a.createElement("button",null,"Restart")},t)}},{key:"render",value:function(){var t=[];return-1!==this.props.victory.site&&t.push(this.createPopUpVictory(this.props.victory.mess)),i.a.createElement("div",null,t)}}]),s}(i.a.Component),d=function t(e,s){Object(c.a)(this,t),this.player=e,this.style={backgroundImage:"url('"+s+"')"}},g=function(t){Object(u.a)(s,t);var e=Object(l.a)(s);function s(t){var n;return Object(c.a)(this,s),(n=e.call(this,t,1===t?"https://upload.wikimedia.org/wikipedia/commons/b/b1/Chess_blt45.svg":"https://upload.wikimedia.org/wikipedia/commons/9/98/Chess_bdt45.svg")).chessName="bishop",n}return Object(o.a)(s,[{key:"isMovePossible",value:function(t){var e=[t,t-17,t-10,t+6,t+15,t-15,t-6,t+10,t+17];return e.filter((function(t){return t>-1&&t<64})),e}},{key:"isAttackPossible",value:function(t){var e=[t,t-17,t-10,t+6,t+15,t-15,t-6,t+10,t+17];return e.filter((function(t){return t>-1&&t<64})),e}}]),s}(d),b={isitemInList:function(t,e){return e.indexOf(t)>=0},getTurnByPlayer:function(t){return"white"===t?1:"black"===t?2:void 0}},y=function(t){Object(u.a)(s,t);var e=Object(l.a)(s);function s(t){var n;return Object(c.a)(this,s),(n=e.call(this,t,1===t?"https://upload.wikimedia.org/wikipedia/commons/4/42/Chess_klt45.svg":"https://upload.wikimedia.org/wikipedia/commons/f/f0/Chess_kdt45.svg")).chessName="king",n}return Object(o.a)(s,[{key:"getSuggestAndAttack",value:function(t,e){var s=this.isAttackPossible(e).filter((function(e){return"empty"!==t.squares[e].chessName&&t.squares[e].player!==b.getTurnByPlayer(t.turn)})),n=this.isMovePossible(e).filter((function(s){return"empty"===t.squares[s].chessName||s===e}));return s.forEach((function(e){e.player!==b.getTurnByPlayer(t.turn)&&n.push(e)})),{attack:s,suggest:n}}},{key:"isMovePossible",value:function(t){return[t,t-9,t-8,t-7,t+1,t-1,t+9,t+8,t+7].filter((function(t){return t>-1&&t<64}))}},{key:"isAttackPossible",value:function(t){return[t-9,t-8,t-7,t+1,t-1,t+9,t+8,t+7].filter((function(t){return t>-1&&t<64}))}}]),s}(d),w=function(t){Object(u.a)(s,t);var e=Object(l.a)(s);function s(t){var n;return Object(c.a)(this,s),(n=e.call(this,t,1===t?"https://upload.wikimedia.org/wikipedia/commons/7/70/Chess_nlt45.svg":"https://upload.wikimedia.org/wikipedia/commons/e/ef/Chess_ndt45.svg")).chessName="knight",n}return Object(o.a)(s,[{key:"isMovePossible",value:function(t){return[t,t-17,t-10,t+6,t+15,t-15,t-6,t+10,t+17].filter((function(t){return t>-1&&t<64}))}},{key:"isAttackPossible",value:function(t){return[t,t-17,t-10,t+6,t+15,t-15,t-6,t+10,t+17].filter((function(t){return t>-1&&t<64}))}}]),s}(d),O=function(t){Object(u.a)(s,t);var e=Object(l.a)(s);function s(t){var n;return Object(c.a)(this,s),(n=e.call(this,t,1===t?"https://upload.wikimedia.org/wikipedia/commons/4/45/Chess_plt45.svg":"https://upload.wikimedia.org/wikipedia/commons/c/c7/Chess_pdt45.svg")).initialPositions={1:[48,49,50,51,52,53,54,55],2:[8,9,10,11,12,13,14,15]},n.chessName="pawn",n}return Object(o.a)(s,[{key:"getSuggestAndAttack",value:function(t,e){var s=this.isAttackPossible(e).filter((function(e){return"empty"!==t.squares[e].chessName&&t.squares[e].player!==b.getTurnByPlayer(t.turn)})),n=this.isMovePossible(e).filter((function(s){return"empty"===t.squares[s].chessName||s===e}));return s.forEach((function(e){e.player!==b.getTurnByPlayer(t.turn)&&n.push(e)})),{attack:s,suggest:n}}},{key:"isMovePossible",value:function(t){return 1!==this.player?this.initialPositions[2].indexOf(t)>=0?[t,t+8,t+16]:[t,t+8]:this.initialPositions[1].indexOf(t)>=0?[t,t-8,t-16]:[t,t-8]}},{key:"isAttackPossible",value:function(t){return 1!==this.player?[t+7,t+9]:[t-7,t-9]}}]),s}(d),j=function(t){Object(u.a)(s,t);var e=Object(l.a)(s);function s(t){var n;return Object(c.a)(this,s),(n=e.call(this,t,1===t?"https://upload.wikimedia.org/wikipedia/commons/1/15/Chess_qlt45.svg":"https://upload.wikimedia.org/wikipedia/commons/4/47/Chess_qdt45.svg")).chessName="queen",n}return Object(o.a)(s,[{key:"isMovePossible",value:function(t){return[t,t-17,t-10,t+6,t+15,t-15,t-6,t+10,t+17].filter((function(t){return t>-1&&t<64}))}},{key:"isAttackPossible",value:function(t){return[t,t-17,t-10,t+6,t+15,t-15,t-6,t+10,t+17].filter((function(t){return t>-1&&t<64}))}}]),s}(d),q=function(t){Object(u.a)(s,t);var e=Object(l.a)(s);function s(t){var n;return Object(c.a)(this,s),(n=e.call(this,t,1===t?"https://upload.wikimedia.org/wikipedia/commons/7/72/Chess_rlt45.svg":"https://upload.wikimedia.org/wikipedia/commons/f/ff/Chess_rdt45.svg")).chessName="rook",n}return Object(o.a)(s,[{key:"getSuggestAndAttack",value:function(t,e){return{attack:this.isAttackPossible(e).filter((function(e){return"empty"!==t.squares[e].chessName&&t.squares[e].player!==b.getTurnByPlayer(t.turn)})),suggest:this.isMovePossible(e).filter((function(s){return"empty"===t.squares[s].chessName||s===e}))}}},{key:"isMovePossible",value:function(t){for(var e=[t],s=1;s<8;s++)e.push(t+8*s),e.push(t-8*s);return e.filter((function(t){return t>-1&&t<64}))}},{key:"isAttackPossible",value:function(t){for(var e=[],s=0;s<8;s++)e.push(t+8*s),e.push(t-8*s);return e.filter((function(t){return t>-1&&t<64}))}}]),s}(d),A=function(t){Object(u.a)(s,t);var e=Object(l.a)(s);function s(t){var n;return Object(c.a)(this,s),(n=e.call(this,t,"")).chessName="empty",n}return s}(d);function C(){for(var t=Array(64).fill(new A),e=8;e<16;e++)t[e]=new O(2),t[e+40]=new O(1);return t[58]=new g(1),t[61]=new g(1),t[56]=new q(1),t[63]=new q(1),t[57]=new w(1),t[62]=new w(1),t[59]=new j(1),t[60]=new y(1),t[0]=new q(2),t[7]=new q(2),t[1]=new w(2),t[6]=new w(2),t[2]=new g(2),t[5]=new g(2),t[3]=new j(2),t[4]=new y(2),t}var P=function(t){Object(u.a)(s,t);var e=Object(l.a)(s);function s(){var t;return Object(c.a)(this,s),(t=e.call(this)).state={squares:C(),now:{black:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],white:[63,62,61,60,59,58,57,56,55,54,53,52,51,50,49,48]},remove:{white:[],black:[]},suggest:{status:0,dict:[]},attack:[],click:"step1",turn:"white",location:-1,victory:{site:-1,mess:"not start yet"}},t}return Object(o.a)(s,[{key:"logicGame",value:function(t){var e=this.state.now.black.slice(),s=this.state.now.white.slice(),n=this.state.squares.slice(),i=this.state.attack.slice(),a=this.state.suggest.dict.slice(),r=this.state.turn,c=this.state.location,o=this.state.click;this.state.victory;if(console.log("CLICK: ",t),"step1"===o)if(console.log("[BLACK]: ",e),console.log("[WHITE]: ",s),"white"===r&&b.isitemInList(t,s)||"black"===r&&b.isitemInList(t,e)){var u=n[t].getSuggestAndAttack(this.state,t);console.log("[ATTACK]: ",u.attack),console.log("[SUGGEST]: ",u.suggest),this.setState({click:"step2",location:t,suggest:{status:1,dict:u.suggest},attack:u.attack})}else console.log("[Turn %s][Click: 1] Empty chessman %s",r);else b.isitemInList(t,i)&&"empty"!==n[t].chessName?(this.moveChessManAndUpdateSquares(n,c,t),this.changTurnAndUpdateTurnAndNow(r,s,e,c,t,"attack"),this.setState({click:"step1",location:-1,attack:[],suggest:{status:0,dict:[]}})):b.isitemInList(t,a)&&(t===c?this.setState({click:"step1",location:-1,attack:[],suggest:{status:0,dict:[]}}):(this.moveChessManAndUpdateSquares(n,c,t),this.changTurnAndUpdateTurnAndNow(r,s,e,c,t,"move"),this.setState({click:"step1",location:-1,suggest:{status:0,dict:[]}})))}},{key:"moveChessManAndUpdateSquares",value:function(t,e,s){t[s]=t[e],t[e]=new A,this.setState({squares:t})}},{key:"changTurnAndUpdateTurnAndNow",value:function(t,e,s,n,i,a){"white"===t&&"move"===a?(t="black",(e=e.filter((function(t){return t!==n}))).push(i)):"black"===t&&"move"===a?(t="white",s.splice(n,1),s.push(i)):"white"===t&&"attack"===a?("king"==this.state.squares[i].chessName&&this.setState({victory:{site:1,mess:"White victory"}}),t="black",e.pop(n),s.pop(i),e.push(i)):("king"==this.state.squares[i].chessName&&this.setState({victory:{site:2,mess:"Black victory"}}),t="white",s.pop(n),e.pop(i),s.push(i)),this.setState({turn:t,now:{white:e,black:s}})}},{key:"render",value:function(){var t=this;return i.a.createElement("div",null,i.a.createElement("div",{className:"game"},i.a.createElement("div",{className:"chat-box"},this.state.turn),i.a.createElement("div",{className:"game-board"},i.a.createElement(p,{squares:this.state.squares,suggest:this.state.suggest,onClick:function(e){return t.logicGame(e)}})),i.a.createElement("div",{className:"state-game"},i.a.createElement(k,{victory:this.state.victory}))))}}]),s}(i.a.Component),N=function(t){Object(u.a)(s,t);var e=Object(l.a)(s);function s(){return Object(c.a)(this,s),e.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return i.a.createElement(P,null)}}]),s}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},5:function(t,e,s){},9:function(t,e,s){t.exports=s(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.abeace16.chunk.js.map